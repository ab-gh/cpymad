--- a/src/madx_ptc_twiss.f90
+++ b/src/madx_ptc_twiss.f90
@@ -1464,6 +1464,7 @@ contains
     subroutine tidy()
       ! deallocates all the variables
       implicit none
+      integer i
 
       call kill(tw)
       CALL kill(A_script_probe)
